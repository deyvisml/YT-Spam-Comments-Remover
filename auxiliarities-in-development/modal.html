<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link rel="stylesheet" href="modal.css" />
    <script src="fontawesome.js"></script>
  </head>
  <body>
    <div class="aux">ss</div>

    <!--<div class="comments-modal-container">
      <div class="background-comments-modal"></div>
      <div class="comments-modal">
        <div class="modal-header">
          <h1>YT Spam Comments Remover</h1>
          <a class="close-modal-btn"><i class="fa-solid fa-xmark"></i></a>
        </div>

        <main class="modal-body">
          <div class="comments-container">
            <article class="comment" id="comment_id_1">
              <div class="comment-left-side comment-author-image-container">
                <img
                  src="https://www.w3schools.com/howto/img_avatar.png"
                  alt=""
                />
              </div>

              <div class="comment-right-side">
                <div class="container-comment-data-and-spam-categories-matched">
                  <div class="container-data">
                    <p class="username">
                      username <span class="commented-date">2 years ago</span>
                    </p>

                    <p
                      class="text-comment"
                      data-full-text-comment="this is the full comment xd"
                    >
                      Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                      Itaque odio fugit veniam at magni! Dolorem ab velit
                      voluptatem voluptas quae.
                    </p>
                    <a
                      class="show-more-less-text-btn"
                      id="show-more"
                      data-spam-comment-id="comment_id_1"
                      >Leer m√°s</a
                    >
                  </div>

                  <ul class="spam-categories-matched-container">
                    <li class="spam-category-matched">category 1</li>
                    <li class="spam-category-matched">category 2</li>
                  </ul>
                </div>

                <div class="is-spam-checkbox-container">
                  <input
                    type="checkbox"
                    class="is-spam-checkbox"
                    name="is-spam-checkbox"
                    data-spam-comment-id="comment_01"
                    checked
                  />
                </div>
              </div>
            </article>
          </div>
        </main>

        <div class="modal-footer">
          <div class="modal-footer-content">
            <div class="total-count-container">
              <p>
                Selected: <span class="num-selected-comments">0</span>/<span
                  class="num-total-comments"
                  >0</span
                >
              </p>
            </div>

            <div class="select-and-button-container">
              <select
                name="select-spam-comments-options"
                class="select-spam-comments-options"
                id="select-spam-comments-options"
              >
                <option value="">Remove</option>
                <option value="">Report</option>
              </select>
              <a class="execute-btn"> Execute </a>
            </div>
          </div>
        </div>
      </div>
    </div>-->

    <!-- ADDING ELEMENTS DINAMICALLY -->
    <script src="modal_utils.js"></script>
    <script src="modal_events.js"></script>
    <script src="modal.js"></script>

    <script>
      display_modal_into_body();

      display_evaluating_loader_into_modal_body();

      const evaluated_comments = [
        {
          spam_comment_id: "ididid",
          photo_url: "https://www.w3schools.com/howto/img_avatar.png",
          username: "deyvisml",
          date_commented: "2 weeks ago",
          text_comment:
            "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet placeat et at fugit recusandae. Provident ipsam voluptatum earum sit. Est, quas? Porro distinctio laudantium, quaerat fuga modi sequi ex animi ipsa itaque dolore laboriosam, odit voluptas quae assumenda ipsam ad dolores accusamus! Exercitationem voluptates vero perferendis praesentium quos delectus aspernatur optio at saepe, nihil ipsam omnis assumenda inventore earum nam dolorem distinctio quisquam quia velit cumque architecto. Veritatis aut, esse nisi vitae doloremque maiores culpa eligendi eos, ipsa alias dicta.",
          spam_categories_matched: ["span", "self-promo"],
        },
        {
          spam_comment_id: "ididid2",
          photo_url: "https://www.w3schools.com/howto/img_avatar.png",
          username: "deyvisml",
          date_commented: "2 weeks ago",
          text_comment:
            "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet placeat et at fugit recusandae. Provident ipsam voluptatum earum sit. Est, quas? Porro distinctio laudantium, quaerat fuga modi sequi ex animi ipsa itaque dolore laboriosam, odit voluptas quae assumenda ipsam ad dolores accusamus! Exercitationem voluptates vero perferendis praesentium quos delectus aspernatur optio at saepe, nihil ipsam omnis assumenda inventore earum nam dolorem distinctio quisquam quia velit cumque architecto. Veritatis aut, esse nisi vitae doloremque maiores culpa eligendi eos, ipsa alias dicta.",
          spam_categories_matched: ["span", "self-promo"],
        },
      ];
      display_comments_into_modal_body(evaluated_comments);

      const options = [
        { key: "remove", name: "Action 1" },
        { key: "report", name: "Action 2" },
      ];
      display_modal_footer_content_into_modal_footer(options);
    </script>

    <script>
      /*business logic*/

      const execute = () => {
        // get id from checked spam comments
        const spam_comments_id_checked = get_spam_comments_id_checked();

        // get selected option
        const selected_option = get_selected_option();
        console.log(selected_option);

        // display executing loader (it also hide the modal footer)
        display_executing_loader(
          selected_option,
          spam_comments_id_checked.length
        );

        // execute_option(selected_option) this method belongs to the content script
        const result = { errorOcurred: true, data: "Mensaje succed xd" };

        // displaying the final result
        display_result(result);
      };
    </script>
  </body>
</html>
